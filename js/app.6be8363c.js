(function(t){function a(a){for(var s,n,r=a[0],c=a[1],l=a[2],u=0,p=[];u<r.length;u++)n=r[u],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&p.push(i[n][0]),i[n]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);d&&d(a);while(p.length)p.shift()();return o.push.apply(o,l||[]),e()}function e(){for(var t,a=0;a<o.length;a++){for(var e=o[a],s=!0,r=1;r<e.length;r++){var c=e[r];0!==i[c]&&(s=!1)}s&&(o.splice(a--,1),t=n(n.s=e[0]))}return t}var s={},i={app:0},o=[];function n(a){if(s[a])return s[a].exports;var e=s[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,n),e.l=!0,e.exports}n.m=t,n.c=s,n.d=function(t,a,e){n.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,a){if(1&a&&(t=n(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(n.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var s in t)n.d(e,s,function(a){return t[a]}.bind(null,s));return e},n.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(a,"a",a),a},n.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},n.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=a,r=r.slice();for(var l=0;l<r.length;l++)a(r[l]);var d=c;o.push([0,"chunk-vendors"]),e()})({0:function(t,a,e){t.exports=e("56d7")},"01c0":function(t,a,e){},"039e":function(t,a,e){"use strict";e("a5ce")},1033:function(t,a,e){"use strict";e("c3c1")},"1de6":function(t,a,e){"use strict";e("d576")},2074:function(t,a,e){"use strict";e("01c0")},"2d9e":function(t,a,e){},"2ef5":function(t,a,e){"use strict";e("43e7")},"43e7":function(t,a,e){},"47de":function(t,a,e){"use strict";e("4e15")},"4ab4":function(t,a,e){},"4b7d":function(t,a,e){"use strict";e("2d9e")},"4c88":function(t,a,e){},"4e15":function(t,a,e){},"56d7":function(t,a,e){"use strict";e.r(a);e("e260"),e("e6cf"),e("cca6"),e("a79d"),e("159b"),e("b64b"),e("4de4");var s=e("2b0e"),i=e("bc3a"),o=e.n(i),n=e("2106"),r=e.n(n),c=e("9062"),l=e.n(c),d=(e("e40d"),e("4989"),e("7bb1")),u=e("60d4"),p=e("4c93"),m=(e("a9e3"),e("ac1f"),e("5319"),e("b680"),function(t){var a=Number(t);return"$".concat(a.toFixed(0).replace(/./g,(function(t,a,e){var s=a&&"."!==t&&(e.length-a)%3===0?", ".concat(t).replace(/\s/g,""):t;return s})))}),v=function(t){var a=new Date(1e3*t);return a.toLocaleDateString()},f=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},g=[],h=(e("5c0b"),e("2877")),_={},C=Object(h["a"])(_,f,g,!1,null,null,null),b=C.exports,x=(e("b0c0"),e("8c4f")),y=e("1157"),w=e.n(y),k=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("Navbar"),e("router-view"),e("Footer")],1)},$=[],P=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"navbar_box"},[s("div",{staticClass:"bg-mainColor fixed-top"},[s("nav",{staticClass:"navbar navbar-expand-lg navbar-dark container"},[s("router-link",{staticClass:"navbar-brand",attrs:{to:{name:"Home"}}},[s("img",{attrs:{src:e("9d64"),alt:"logo"}}),s("span",[t._v(" THE NAP STORE")])]),s("ul",{staticClass:"navbar-nav icon"},[s("li",{staticClass:"nav-item mr-2"},[s("router-link",{staticClass:"nav-link",attrs:{href:"#",title:"",to:{name:"Cart"}}},[s("i",{staticClass:"fas fa-shopping-cart"}),t.qty>0?s("span",{staticClass:"badge badge-thirdColor text-white count_num",class:{count_animation:t.cartIsLoading}},[t._v(t._s(t.qty))]):t._e()])],1)]),t._m(0),s("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[s("ul",{staticClass:"navbar-nav ml-auto"},[s("li",{staticClass:"nav-item mr-2"},[s("router-link",{staticClass:"nav-link",attrs:{to:{name:"Home"}}},[t._v("首頁")])],1),s("li",{staticClass:"nav-item dropdown mr-2"},[s("a",{staticClass:"nav-link dropdown-toggle",attrs:{href:"#",id:"navbardrop","data-toggle":"dropdown"}},[t._v(" 找商品 ")]),s("div",{staticClass:"dropdown-menu bg-mainColor"},[s("router-link",{staticClass:"dropdown-item mr-2",attrs:{href:"#",to:"/products/all"}},[t._v("全部商品")]),s("router-link",{staticClass:"dropdown-item mr-2",attrs:{href:"#",to:"/products/beds"}},[t._v("床")]),s("router-link",{staticClass:"dropdown-item mr-2",attrs:{href:"#",to:"/products/sofas"}},[t._v("沙發")]),s("router-link",{staticClass:"dropdown-item mr-2",attrs:{href:"#",to:"/products/chairs"}},[t._v("椅子")]),s("router-link",{staticClass:"dropdown-item mr-2",attrs:{href:"#",to:"/products/tables"}},[t._v("桌子")])],1)])])])],1)])])},O=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[e("span",{staticClass:"navbar-toggler-icon"})])}],I=(e("99af"),{name:"Navbar",data:function(){return{qty:0,cartIsLoading:!1}},methods:{getCart:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("unique","/cart");t.$http.get(a).then((function(a){if(console.log(a.data),a.data.success){console.log("更新購物車數量成功");var e=0;a.data.data.carts.forEach((function(t){e+=t.qty})),t.qty=e,t.cartIsLoading=!0}}))}},watch:{cartIsLoading:function(){var t=this;setTimeout((function(){t.cartIsLoading=!1}),1100)}},created:function(){var t=this;t.getCart(),t.$bus.$on("upateCartQty",(function(){t.getCart()}))}}),L=I,q=(e("039e"),Object(h["a"])(L,P,O,!1,null,"7a2d58c5",null)),D=q.exports,M=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"bg-footerColor fixed-buttom"},[e("loading",{attrs:{active:t.status.pageIsLoading},on:{"update:active":function(a){return t.$set(t.status,"pageIsLoading",a)}}},[e("div",{staticClass:"loadingio-spinner-dual-ball-mx4nrrd19pi"},[e("div",{staticClass:"ldio-l6eq6mvdt0s"},[e("div"),e("div"),e("div")])])]),e("footer",{staticClass:"container pt-3 pt-sm-5 pb-3"},[e("ul",{staticClass:"row d-flex justify-content-around align-items-center"},[t._m(0),t._m(1),e("li",{staticClass:"pt-1 pt-sm-0"},[e("span",{staticClass:"text-white note"},[t._v("ⓒ僅個人作品練習，無任何商業用途 "),e("span",{staticClass:"divider"},[e("a",{staticClass:"user icon_link",attrs:{href:"#",title:"管理者登入","data-target":"#loginModal"},on:{click:function(a){return a.preventDefault(),t.loginModal(a)}}},[e("i",{staticClass:"fas fa-user"})])])])])])]),e("div",{staticClass:"modal fade",attrs:{id:"loginModal",tabindex:"-1","aria-labelledby":"modalLabel","aria-hidden":"true","data-backdrop":"static"}},[e("div",{staticClass:"modal-dialog"},[e("div",{staticClass:"modal-content"},[t._m(2),e("form",{on:{submit:function(a){return a.preventDefault(),t.signinController(a)}}},[e("div",{staticClass:"modal-body"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-form-label",attrs:{for:"username"}},[t._v("帳號")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.username,expression:"user.username"}],staticClass:"form-control inputDisabled",attrs:{type:"text",id:"username",required:""},domProps:{value:t.user.username},on:{input:function(a){a.target.composing||t.$set(t.user,"username",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-form-label",attrs:{for:"password"}},[t._v("密碼")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form-control inputDisabled",attrs:{type:"password",id:"password",required:""},domProps:{value:t.user.password},on:{input:function(a){a.target.composing||t.$set(t.user,"password",a.target.value)}}})])]),e("div",{staticClass:"modal-footer justify-content-end",class:{"justify-content-between":t.status.showMessage}},[t.status.showMessage?e("span",{staticClass:"text-danger"},[t._v("帳號或密碼錯誤，請重新登入。")]):t._e(),e("button",{staticClass:"btn customize_btn btn_main_color",attrs:{type:"submit"}},[t._v(" 登入 "),t.status.buttonIsLoading?e("i",{staticClass:"fas fa-spinner fa-spin"}):t._e()])])])])])])],1)},E=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("li",{staticClass:"icon"},[e("a",{staticClass:"btn icon_link",attrs:{href:"#!"}},[e("i",{staticClass:"fab fa-facebook-f"})]),e("a",{staticClass:"btn icon_link",attrs:{href:"#!"}},[e("i",{staticClass:"fab fa-twitter"})]),e("a",{staticClass:"btn icon_link",attrs:{href:"#!"}},[e("i",{staticClass:"fab fa-google"})]),e("a",{staticClass:"btn icon_link",attrs:{href:"#!"}},[e("i",{staticClass:"fab fa-instagram"})])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("li",[e("span",{staticClass:"text-white d-none d-sm-block"},[t._v("聯絡電話：04-2244-6688")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header"},[e("h4",{staticClass:"modal-title text-mainColor",attrs:{id:"modalLabel"}},[t._v(" 管理者登入 ")]),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],N={name:"Footer",data:function(){return{user:{username:"",password:""},status:{showMessage:!1,buttonIsLoading:!1,pageIsLoading:!1}}},methods:{loginModal:function(){var t=this;t.status.pageIsLoading=!0,setTimeout((function(){t.status.pageIsLoading=!1}),1e3),t.$router.push("/admin")},signinController:function(){var t=this;t.status.showMessage=!1,t.status.buttonIsLoading=!0,w()(".inputDisabled").attr("disabled",!0);var a="".concat("https://vue-course-api.hexschool.io","/admin/signin");t.$http.post(a,t.user).then((function(a){if(console.log(a.data),a.data.success){var e=a.data.token,s=a.data.expired;document.cookie="myToken=".concat(e,";expires=").concat(new Date(s),";"),t.$router.push("/admin"),w()("#loginModal").modal("hide")}else t.status.showMessage=!0;t.status.buttonIsLoading=!1,w()(".inputDisabled").attr("disabled",!1)}))}}},j=N,T=(e("fcc7"),Object(h["a"])(j,M,E,!1,null,"f5cc4c74",null)),S=T.exports,Q={name:"Layout",components:{Navbar:D,Footer:S}},B=Q,A=Object(h["a"])(B,k,$,!1,null,null,null),z=A.exports,U=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("Swiper"),e("div",{staticClass:"about bg-aboutColor"},[t._m(0),e("div",{staticClass:"category"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md category_img",attrs:{id:"beds"}},[e("router-link",{attrs:{href:"#!",to:"/products/beds"}}),e("h3",[t._v("Beds")])],1),e("div",{staticClass:"col-md category_img",attrs:{id:"sofas"}},[e("router-link",{attrs:{href:"#!",to:"/products/sofas"}}),e("h3",[t._v("Sofas")])],1)]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md category_img",attrs:{id:"chairs"}},[e("router-link",{attrs:{href:"#!",to:"/products/chairs"}}),e("h3",[t._v("Chairs")])],1),e("div",{staticClass:"col-md category_img",attrs:{id:"tables"}},[e("router-link",{attrs:{href:"#!",to:"/products/tables"}}),e("h3",[t._v("Tables")])],1)])])])],1)},F=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("h1",{staticClass:"text-mainColor"},[t._v("THE NAP STORE 設計傢俱品牌")]),e("h2",{staticClass:"text-mainColor"},[t._v(" Create a space that welcomes a lifetime of comfort and style. ")]),e("br"),e("p",{staticClass:"text-secColor"},[t._v(" The Nap Store 創始於1989年，如今已成為一個知名的設計傢俱品牌。 我們設計、生產並銷售適合於客廳、臥室和戶外空間等的一系列現代設計傢俱， 同時我們也可以提供專業室內傢俱布置建議給客戶， 我們會傾聽您的需求，並構想出不同的解決方案，幫助您打造出夢想之家。 ")])])])])}],H=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("swiper",{staticClass:"swiper",attrs:{options:t.swiperOption,pagination:!0}},[t._l(t.imgSrc,(function(a,i){return s("swiper-slide",{key:i,style:{backgroundImage:"url("+e("b9f4")("./"+a)+")"}},[s("div",{staticClass:"text-white"},[s("h1",{staticClass:"title"},[t._v("THE NAP STORE")]),s("p",{directives:[{name:"show",rawName:"v-show",value:0===i,expression:"index === 0"}],staticClass:"content",attrs:{"data-swiper-parallax":"-140"}},[t._v(" 歡慶開幕 全館八折 ")]),s("p",{directives:[{name:"show",rawName:"v-show",value:1===i,expression:"index === 1"}],staticClass:"content",attrs:{"data-swiper-parallax":"-140"}},[t._v(" - DESIGN FURNITURE - ")]),s("router-link",{staticClass:"btn btn-lg pick_btn",attrs:{to:"/products/all"}},[t._v("挑選商品")])],1)])})),s("div",{staticClass:"swiper-button-prev",attrs:{slot:"button-prev"},slot:"button-prev"}),s("div",{staticClass:"swiper-button-next",attrs:{slot:"button-next"},slot:"button-next"}),s("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2)},R=[],J=e("7212"),V=(e("a7a3"),{name:"swiper-example-navigation",title:"Navigation",components:{Swiper:J["Swiper"],SwiperSlide:J["SwiperSlide"]},data:function(){return{swiperOption:{navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination",clickable:!0,bulletClass:"my-bullet",bulletActiveClass:"my-bullet-active"},autoplay:{delay:5e3,disableOnInteraction:!1},effect:"fade",speed:1e3,parallax:!0,loop:!0,grabCursor:!0},imgSrc:["swiper1.jpg","swiper2.jpg"]}}}),W=V,G=(e("7a7d"),e("5cce"),Object(h["a"])(W,H,R,!1,null,"4b386006",null)),K=G.exports,X={name:"Home",components:{Swiper:K},created:function(){w()("html,body").scrollTop(0)}},Y=X,Z=(e("4b7d"),Object(h["a"])(Y,U,F,!1,null,null,null)),tt=Z.exports,at=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("loading",{attrs:{active:t.status.pageIsLoading},on:{"update:active":function(a){return t.$set(t.status,"pageIsLoading",a)}}},[e("div",{staticClass:"loadingio-spinner-dual-ball-mx4nrrd19pi"},[e("div",{staticClass:"ldio-l6eq6mvdt0s"},[e("div"),e("div"),e("div")])])]),e("Jumbotron"),e("div",{staticClass:"container mb-1 pt-1 pt-sm-3",attrs:{id:"show"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-3 sticky_container d-none d-sm-block"},[e("Sidebar")],1),e("div",{staticClass:"col-md-9"},[e("div",{staticClass:"d-flex justify-content-end mb-4"},[e("label",{staticClass:"d-flex align-items-center text-secColor my-1 mr-2",attrs:{for:"sort"}},[t._v("顯示方法")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.sortMethod,expression:"sortMethod"}],staticClass:"custom-select",attrs:{name:"sort",id:"sort"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.sortMethod=a.target.multiple?e:e[0]}}},[e("option",{attrs:{value:"價格排序低到高"}},[t._v("價格排序：低到高")]),e("option",{attrs:{value:"價格排序高到低"}},[t._v("價格排序：高到低")])])]),e("div",{staticClass:"products_content"},[e("div",{staticClass:"row"},t._l(t.showProducts,(function(a,s){return e("div",{key:s,staticClass:"col-md-4 mb-4"},[e("div",{staticClass:"card border-0 text-center"},[e("div",{staticClass:"card_img"},[1===a.is_enabled?e("a",{attrs:{href:"#!"},on:{click:function(e){return e.preventDefault(),t.goToProductDetail(a.id)}}},[e("img",{staticClass:"card-img-top",attrs:{src:a.imageUrl,alt:"商品圖片"}}),e("div",{staticClass:"overlay text-white text-center w-100 p-2"},[t._v(" 查看商品 ")])]):e("a",{staticClass:"disabled_link",attrs:{href:"javascript:;"}},[e("img",{staticClass:"card-img-top",attrs:{src:a.imageUrl,alt:"商品圖片"}})])]),e("div",{staticClass:"card-body"},[e("h3",{staticClass:"h4 card-title text-center text-secColor"},[t._v(" "+t._s(a.title)+" ")]),e("span",{staticClass:"card-text text-center"},[t._v(" NT"+t._s(t._f("currency")(a.price))+"元 ")])]),e("div",{staticClass:"card-footer border-top-0 p-0"},[1===a.is_enabled?e("button",{staticClass:"btn btn-block customize_btn btn_color",on:{click:function(e){t.checkCart(a.id,t.qty=1,e)}}},[t._v(" 加入購物車 ")]):e("a",{staticClass:"btn btn-block customize_btn btn_outline_color disabled",attrs:{href:"#"}},[t._v(" 缺貨中 ")])])])])})),0),e("div",{staticClass:"row justify-content-center mb-4 mt-4"},[e("Pagination",{attrs:{pages:t.pagination},on:{emitPages:t.getPagination}})],1)])])])])],1)},et=[],st=e("2909"),it=(e("9911"),e("fb6a"),e("7db0"),function(){var t=this,a=t.$createElement;t._self._c;return t._m(0)}),ot=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"jumbotron jumbotron-fluid jumbotron_bg d-flex"},[e("span",{staticClass:"bg_block"}),e("div",{staticClass:"container text-white align-self-center"},[e("h1",{staticClass:"display-3"},[t._v("歡慶開幕")]),e("h2",{staticClass:"text-thirdColor"},[t._v("全館八折 ｜ 限時折扣碼【WOW】")])])])}],nt={name:"Jumbotron"},rt=nt,ct=(e("90a0"),Object(h["a"])(rt,it,ot,!1,null,"03c0ccc4",null)),lt=ct.exports,dt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"list-group"},[e("a",{staticClass:"list-group-item list-group-item-action disabled text-secColor",attrs:{href:"#!"}},[t._v("商品分類")]),e("router-link",{staticClass:"list-group-item list-group-item-action",attrs:{href:"#!",to:"/products/all"}},[t._v("全部商品")]),e("router-link",{staticClass:"list-group-item list-group-item-action",attrs:{href:"#!",to:"/products/beds"}},[t._v("床")]),e("router-link",{staticClass:"list-group-item list-group-item-action",attrs:{href:"#!",to:"/products/sofas"}},[t._v("沙發")]),e("router-link",{staticClass:"list-group-item list-group-item-action",attrs:{href:"#!",to:"/products/chairs"}},[t._v("椅子")]),e("router-link",{staticClass:"list-group-item list-group-item-action",attrs:{href:"#!",to:"/products/tables"}},[t._v("桌子")])],1)},ut=[],pt={name:"Sidebar"},mt=pt,vt=(e("bc01"),Object(h["a"])(mt,dt,ut,!1,null,"58cf1108",null)),ft=vt.exports,gt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("nav",{attrs:{"aria-label":"Page navigation"}},[e("ul",{staticClass:"pagination justify-content-center"},[e("li",{staticClass:"page-item",class:{disabled:1===t.pages.currentPage}},[e("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Previous"},on:{click:function(a){a.preventDefault(),t.updatePage(t.pages.currentPage-1),t.showPosition()}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("«")]),e("span",{staticClass:"sr-only"},[t._v("Previous")])])]),t._l(t.pages.totalPages,(function(a){return e("li",{key:a,staticClass:"page-item",class:{active:t.pages.currentPage===a}},[e("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.updatePage(a),t.showPosition()}}},[t._v(t._s(a))])])})),e("li",{staticClass:"page-item",class:{disabled:t.pages.currentPage===t.pages.totalPages}},[e("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Next"},on:{click:function(a){a.preventDefault(),t.updatePage(t.pages.currentPage+1),t.showPosition()}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("»")]),e("span",{staticClass:"sr-only"},[t._v("Next")])])])],2)])},ht=[],_t={name:"Pagination",props:["pages"],methods:{updatePage:function(t){this.$emit("emitPages",t)},showPosition:function(){var t=w()("#show").offset().top;w()("html,body").animate({scrollTop:t-100},600)}}},Ct=_t,bt=Object(h["a"])(Ct,gt,ht,!1,null,null,null),xt=bt.exports,yt={name:"Products",components:{Jumbotron:lt,Sidebar:ft,Pagination:xt},data:function(){return{products:[],tempProducts:[],showProducts:[],tempCart:[],category:[{name:"全部商品",link:"all"},{name:"床",link:"beds"},{name:"沙發",link:"sofas"},{name:"椅子",link:"chairs"},{name:"桌子",link:"tables"}],sortMethod:"價格排序低到高",pagination:{totalPages:1,currentPage:1},status:{pageIsLoading:!1}}},methods:{getProducts:function(){var t=this,a=t.$route.params.category,e=t.category.filter((function(t){var e="";return t.link===a&&(e=t.name),e}));t.status.pageIsLoading=!0;var s="".concat("https://vue-course-api.hexschool.io","/api/").concat("unique","/products/all");t.$http.get(s).then((function(a){console.log(a.data),a.data.success&&(t.status.pageIsLoading=!1,t.products=a.data.products,0===e.length?(t.$router.push({path:"/products/all"}),t.tempProducts=Object(st["a"])(t.products)):"全部商品"===e[0].name?t.tempProducts=Object(st["a"])(t.products):t.tempProducts=t.products.filter((function(t){return t.category===e[0].name})),t.sortMethod="價格排序低到高",t.tempProducts.sort((function(t,a){return t.price-a.price})),t.status.pageIsLoading=!1,t.getPagination())}))},productLink:function(t){var a=this,e=a.$route.params.category;e!==t&&(a.$router.push({path:"/products/".concat(t)}),a.getProducts())},getPagination:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=this,e=Math.floor(a.tempProducts.length/6),s=a.tempProducts.length%6;s>0&&(e+=1),a.pagination.totalPages=e;var i=t;i<=0?i=1:i>e&&(i=e),a.showProducts=a.tempProducts.slice(6*(i-1),6*i),a.pagination.currentPage=i},goToProductDetail:function(t){this.$router.push({name:"Product_detail",params:{id:t}})},getCart:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("unique","/cart");t.$http.get(a).then((function(a){console.log(a.data),t.tempCart=a.data.data}))},checkCart:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,e=arguments.length>2?arguments[2]:void 0,s=this,i='<i class="fas fa-spinner fa-spin"></i>';w()(e.target).append(i),w()(e.target).attr("disabled",!0);var o={product_id:t,qty:a},n=s.tempCart.carts.find((function(a){return a.product_id===t}));if(console.log(n),void 0!==n){o.qty=n.qty+1;var r="".concat("https://vue-course-api.hexschool.io","/api/").concat("unique","/cart/").concat(n.id);s.$http.delete(r).then((function(t){console.log(t.data),s.addtoCart(o,e)}))}else s.addtoCart(o,e)},addtoCart:function(t,a){var e=this,s="".concat("https://vue-course-api.hexschool.io","/api/").concat("unique","/cart");e.$http.post(s,{data:t}).then((function(t){console.log(t.data),t.data.success&&(e.$bus.$emit("upateCartQty"),e.getCart()),w()(a.target).children().remove(),w()(a.target).attr("disabled",!1)}))}},watch:{sortMethod:function(t){var a=this;"價格排序低到高"===t?a.tempProducts.sort((function(t,a){return t.price-a.price})):"價格排序高到低"===t&&a.tempProducts.sort((function(t,a){return a.price-t.price})),a.getPagination()},$route:function(){var t=this;t.getProducts()}},created:function(){this.getProducts(),this.getCart(),w()("html,body").scrollTop(0)}},wt=yt,kt=(e("1033"),Object(h["a"])(wt,at,et,!1,null,"9abf5b6e",null)),$t=kt.exports,Pt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("loading",{attrs:{active:t.status.pageIsLoading},on:{"update:active":function(a){return t.$set(t.status,"pageIsLoading",a)}}},[e("div",{staticClass:"loadingio-spinner-dual-ball-mx4nrrd19pi"},[e("div",{staticClass:"ldio-l6eq6mvdt0s"},[e("div"),e("div"),e("div")])])]),e("div",{staticClass:"container mt-3 mt-sm-5 mb-5 Whole_box"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-3 sticky_container d-none d-sm-block"},[e("Sidebar")],1),e("div",{staticClass:"col-md-9"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6 text-center"},[e("img",{staticClass:"product_img",attrs:{src:t.product.imageUrl,alt:"商品圖片"}})]),e("div",{staticClass:"col-md-6 card_content"},[e("h1",{staticClass:"text-secColor"},[t._v(t._s(t.product.title))]),e("span",{staticClass:"card-text text-left mt-3"},[t._v(" NT"+t._s(t._f("currency")(t.product.price))+"元 ")]),e("p",{staticClass:"text-justify text-secColor mt-4"},[t._v(" "+t._s(t.product.description)+" ")]),e("form",{attrs:{action:"#",method:"post"}},[e("div",{staticClass:"d-flex justify-content-between mt-4"},[e("div",{staticClass:"input_group"},[e("input",{staticClass:"input_button",attrs:{type:"button",value:"-"},on:{click:function(a){return t.addCartQty(t.tempQty-1)}}}),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.tempQty,expression:"tempQty",modifiers:{number:!0}}],staticClass:"text-center input_number",attrs:{type:"number",step:"1",min:"1",max:"99",name:"quantity",value:"1",title:"數量",size:"2"},domProps:{value:t.tempQty},on:{input:function(a){a.target.composing||(t.tempQty=t._n(a.target.value))},blur:function(a){return t.$forceUpdate()}}}),e("input",{staticClass:"input_button",attrs:{type:"button",value:"+"},on:{click:function(a){return t.addCartQty(t.tempQty+1)}}})]),1===t.product.is_enabled?e("button",{staticClass:"btn customize_btn btn_color",attrs:{type:"submit"},on:{click:function(a){return a.preventDefault(),t.checkCart(t.product.id,a)}}},[t._v(" 加入購物車 ")]):e("a",{staticClass:"btn customize_btn btn_color disabled"},[t._v("缺貨中")])])])])]),e("div",{staticClass:"row mt-5 mb-3"},[e("div",{staticClass:"col"},[t._m(0),e("div",{staticClass:"tab-content",attrs:{id:"myTabContent"}},[e("div",{staticClass:"tab-pane fade show active",attrs:{id:"specification",role:"tabpanel","aria-labelledby":"specification-tab"}},[e("p",{staticClass:"text-justify content content_pre p-3",domProps:{textContent:t._s(t.product.content)}})]),t._m(1)])])]),e("div",{staticClass:"row mt-4 mt-sm-3 mb-3"},[e("div",{staticClass:"col"},[e("h2",{staticClass:"h4"},[t._v("瀏覽紀錄")]),e("swiper",{staticClass:"swiper pt-3",attrs:{options:t.swiperOption}},[t._l(t.recordProducts,(function(a,s){return e("swiper-slide",{key:s},[e("div",{staticClass:"position"},[e("a",{attrs:{href:"#!"},on:{click:function(e){return e.preventDefault(),t.goToProductDetail(a.id)}}},[e("img",{staticClass:"swiper_img",attrs:{src:a.imageUrl,alt:""}}),e("div",{staticClass:"overlay p-2"},[t._v("查看商品")])])]),e("h3",{staticClass:"h5 text-secColor pt-2 pb-2"},[t._v(t._s(a.title))]),e("span",{staticClass:"pt-2 pb-2"},[t._v("NT"+t._s(t._f("currency")(a.price))+"元")]),e("button",{staticClass:"btn btn-block customize_btn btn_color",on:{click:function(e){t.checkCart(a.id,e,t.tempQty=1)}}},[t._v(" 加入購物車 ")])])})),e("div",{staticClass:"swiper-button-prev",attrs:{slot:"button-prev"},slot:"button-prev"}),e("div",{staticClass:"swiper-button-next",attrs:{slot:"button-next"},slot:"button-next"})],2)],1)])])])])],1)},Ot=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ul",{staticClass:"nav nav-tabs",attrs:{id:"myTab",role:"tablist"}},[e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link active",attrs:{id:"specification-tab","data-toggle":"tab",href:"#specification",role:"tab","aria-controls":"specification","aria-selected":"true"}},[t._v("商品規格")])]),e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link",attrs:{id:"notice-tab","data-toggle":"tab",href:"#notice",role:"tab","aria-controls":"notice","aria-selected":"false"}},[t._v("注意事項")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"tab-pane fade",attrs:{id:"notice",role:"tabpanel","aria-labelledby":"notice-tab"}},[e("ul",{staticClass:"text-justify content p-3"},[e("li",[e("strong",[t._v("送貨時間：")]),e("br"),t._v(" 我們將於訂單完成後3日內(不含例假日)與您聯繫送貨時間。請務必於訂單中填寫您正確的連絡電話， 在無法聯繫上您的情況下，我們將不會安排出貨。 若您於下單後有任何問題，可與我們聯絡。 ")]),e("li",[e("strong",[t._v("配送運費：")]),e("br"),t._v(" 運費已包含在售價裡，並不會再另外向您收費。 ")]),e("li",[e("strong",[t._v("線上購物七天鑑賞期：")]),e("br"),t._v(" 線上購買之商品於到貨日起算之7日內為鑑賞期(鑑賞期並非試用期)，若非商品品質瑕疵問題於鑑賞期內退換貨之情形， 我們須酌收退換貨所產生之運費。所有退貨或換貨之商品均需為未使用之全新狀態且包裝完整 ，及所有相關之購買發票、配件、價標、贈品等也需保持其完整性， 若有損壞、遺失、配件不全或商品有使用痕跡，恕無法接受退換貨。 ")]),e("li",[e("strong",[t._v("其他服務：")]),e("br"),t._v(" 如您有其他關於訂購、商品等相關問題， 可以致電我們的免費客服電話：04-22446688 我們將有專人為您處理線上購物問題。 ")])])])}],It={name:"Product_detail",components:{Sidebar:ft,Swiper:J["Swiper"],SwiperSlide:J["SwiperSlide"]},data:function(){return{swiperOption:{navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},slidesPerView:4,spaceBetween:50,breakpoints:{1024:{slidesPerView:3,spaceBetween:40},769:{slidesPerView:2,spaceBetween:30},375:{slidesPerView:2,spaceBetween:20}}},product:{},tempCart:[],tempQty:1,recordProducts:[],status:{pageIsLoading:!1}}},methods:{getProductDetail:function(){var t=this;t.status.pageIsLoading=!0;var a="";a=t.$route.params.id;var e="".concat("https://vue-course-api.hexschool.io","/api/").concat("unique","/product/").concat(a);t.$http.get(e).then((function(a){console.log(a.data),a.data.success?(t.product=a.data.product,t.saveRecord()):t.$router.push({path:"/products/all"}),t.status.pageIsLoading=!1}))},addCartQty:function(t){var a=this,e=t;e<=0?e=1:e>99&&(e=99),a.tempQty=e},getCart:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("unique","/cart");t.$http.get(a).then((function(a){console.log(a.data),t.tempCart=a.data.data}))},checkCart:function(t,a){var e=this,s='<i class="fas fa-spinner fa-spin"></i>';w()(a.target).append(s),w()(a.target).attr("disabled",!0);var i={product_id:t,qty:e.tempQty};console.log(e.tempQty);var o=e.tempCart.carts.find((function(a){return a.product_id===t}));if(console.log(o),void 0!==o){i.qty=o.qty+e.tempQty;var n="".concat("https://vue-course-api.hexschool.io","/api/").concat("unique","/cart/").concat(o.id);e.$http.delete(n).then((function(t){console.log(t.data),e.addtoCart(i,a)}))}else e.addtoCart(i,a)},addtoCart:function(t,a){var e=this,s="".concat("https://vue-course-api.hexschool.io","/api/").concat("unique","/cart");e.$http.post(s,{data:t}).then((function(t){console.log(t.data),t.data.success&&(e.$bus.$emit("upateCartQty"),e.getCart()),w()(a.target).children().remove(),w()(a.target).attr("disabled",!1)}))},saveRecord:function(){var t=this,a=t.recordProducts.find((function(a){return a.id===t.product.id}));void 0===a&&t.recordProducts.push(t.product),localStorage.setItem("save",JSON.stringify(t.recordProducts))},getRecord:function(){var t=JSON.parse(localStorage.getItem("save"));null!==t.length&&(this.recordProducts=t)},goToProductDetail:function(t){this.$router.push({path:"/product_detail/".concat(t)})}},watch:{tempQty:function(t){var a=this,e=t;e<=0?e=1:e>99&&(e=99),a.tempQty=e},$route:function(){var t=this;t.getProductDetail(),w()("html,body").scrollTop(0)}},created:function(){this.getProductDetail(),this.getCart(),this.getRecord(),w()("html,body").scrollTop(0)}},Lt=It,qt=(e("aa66"),Object(h["a"])(Lt,Pt,Ot,!1,null,"2df7fea7",null)),Dt=qt.exports,Mt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("loading",{attrs:{active:t.status.pageIsLoading},on:{"update:active":function(a){return t.$set(t.status,"pageIsLoading",a)}}},[e("div",{staticClass:"loadingio-spinner-dual-ball-mx4nrrd19pi"},[e("div",{staticClass:"ldio-l6eq6mvdt0s"},[e("div"),e("div"),e("div")])])]),e("div",{staticClass:"cart_box"},[e("div",{staticClass:"container"},[t._m(0),e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm"},[e("table",{staticClass:"table"},[t._m(1),e("tbody",[0===t.cart.final_total?e("tr",{staticClass:"text-center"},[e("td",{staticClass:"align-middle text-secColor",attrs:{colspan:"6"}},[t._v(" 您尚未加入商品 ")])]):t._e(),t._l(t.cart.carts,(function(a,s){return e("tr",{directives:[{name:"show",rawName:"v-show",value:t.cart.final_total>0,expression:"cart.final_total > 0"}],key:s,staticClass:"text-center"},[e("td",{staticClass:"align-middle"},[e("a",{attrs:{href:"#!"},on:{click:function(e){return e.preventDefault(),t.deleteCartItem(a.id)}}},[e("i",{staticClass:"far fa-times-circle delete_icon"})])]),e("td",{staticClass:"align-middle text-left p-0 p-sm-3"},[e("a",{staticClass:"product_link",attrs:{href:"#!"},on:{click:function(e){return e.preventDefault(),t.goToProductDetail(a.product_id)}}},[e("img",{staticClass:"cart_img d-block d-sm-inline-block",attrs:{src:a.product.imageUrl,alt:"商品圖片"}}),e("span",{staticClass:"pl-sm-2 text-secColor"},[t._v(t._s(a.product.title))])])]),e("td",{staticClass:"align-middle text-right"},[t._v(" "+t._s(t._f("currency")(a.product.price))+" ")]),e("td",{staticClass:"align-middle text-right text-sm-center"},[e("span",{staticClass:"input_group d-inline-block"},[e("input",{staticClass:"input_button",attrs:{type:"button",value:"-"},on:{click:function(a){return t.addCartQty(-1,s)}}}),e("input",{staticClass:"text-center input_number",attrs:{type:"text",name:"quantity",title:"數量",size:"2",maxlength:"2"},domProps:{value:a.qty},on:{keyup:function(a){return t.addCartQty(!0,s,a)}}}),e("input",{staticClass:"input_button",attrs:{type:"button",value:"+"},on:{click:function(a){return t.addCartQty(1,s)}}})])]),e("td",{staticClass:"align-middle d-none d-sm-table-cell text-right"},[t._v(" "+t._s(t._f("currency")(a.final_total))+" ")])])})),e("tr",{directives:[{name:"show",rawName:"v-show",value:t.cart.final_total>0,expression:"cart.final_total > 0"}]},[e("td",{staticClass:"align-middle",attrs:{colspan:"3"}},[t._v("總計")]),e("td",{staticClass:"align-middle text-right font-weight-bold",attrs:{colspan:"3"}},[t._v(" "+t._s(t._f("currency")(t.cart.final_total))+" ")])])],2),e("tfoot",[e("tr",{staticClass:"last_tr"},[e("td",{staticClass:"pl-0",attrs:{colspan:"3"}},[e("a",{staticClass:"btn customize_btn btn_outline_color mr-3",attrs:{href:"#!"},on:{click:function(a){return a.preventDefault(),t.goBack(a)}}},[t._v("返回上一頁")]),e("a",{staticClass:"btn customize_btn btn_color",attrs:{href:"#!"},on:{click:function(a){return a.preventDefault(),t.upateCart(a)}}},[t._v("更新購物車")])]),e("td",{staticClass:"text-right pr-0",attrs:{colspan:"3"}},[t.cart.final_total>0?e("router-link",{staticClass:"btn customize_btn btn_main_color",attrs:{href:"#!",to:{name:"Checkout"}}},[t._v("前往結帳")]):t._e()],1)])])])])])])])],1)},Et=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"row mb-1"},[e("div",{staticClass:"col"},[e("h1",{staticClass:"h3 text-center mt-3 text-mainColor"},[t._v("購物車")]),e("hr")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",{staticClass:"thead-dark"},[e("tr",{staticClass:"text-center text-white"},[e("th",{staticClass:"font-weight-normal text-center",attrs:{scope:"col",colspan:"2"}},[t._v(" 商品名稱 ")]),e("th",{staticClass:"font-weight-normal text-sm-right",attrs:{scope:"col"}},[t._v(" 單價 ")]),e("th",{staticClass:"font-weight-normal",attrs:{scope:"col"}},[t._v("數量")]),e("th",{staticClass:"d-none d-sm-table-cell font-weight-normal text-right",attrs:{scope:"col"}},[t._v(" 小計 ")])])])}],Nt=(e("9129"),{name:"Cart",data:function(){return{cart:{},tempQty:1,coupon:"",couponFeedBack:"",status:{pageIsLoading:!1}}},methods:{getCart:function(){var t=this;t.status.pageIsLoading=!0;var a="".concat("https://vue-course-api.hexschool.io","/api/").concat("unique","/cart");t.$http.get(a).then((function(a){console.log(a.data),t.$bus.$emit("upateCartQty"),t.status.pageIsLoading=!1,t.cart=a.data.data}))},deleteCartItem:function(t){var a=this;a.status.pageIsLoading=!0;var e="".concat("https://vue-course-api.hexschool.io","/api/").concat("unique","/cart/").concat(t);a.$http.delete(e).then((function(t){console.log(t.data),a.status.pageIsLoading=!1,a.getCart()}))},addCartQty:function(t,a,e){var s=this;!0!==t?(s.tempQty=s.cart.carts[a].qty,s.tempQty+=parseInt(t,10)):s.tempQty=parseInt(e.target.value,10),s.tempQty<=0||Number.isNaN(s.tempQty)?s.tempQty=1:s.tempQty>99&&(s.tempQty=99),s.cart.carts[a].qty=s.tempQty},upateCart:function(){var t=this;t.status.pageIsLoading=!0,t.cart.carts.forEach((function(a){var e="".concat("https://vue-course-api.hexschool.io","/api/").concat("unique","/cart/").concat(a.id);t.$http.delete(e).then((function(e){console.log(e.data);var s={product_id:a.product_id,qty:a.qty},i="".concat("https://vue-course-api.hexschool.io","/api/").concat("unique","/cart");t.$http.post(i,{data:s}).then((function(a){console.log(a.data),a.data.success&&t.getCart()}))}))}))},goToProductDetail:function(t){this.$router.push({path:"/product_detail/".concat(t)})},goBack:function(){this.$router.back()}},created:function(){this.getCart(),w()("html,body").scrollTop(0)}}),jt=Nt,Tt=(e("47de"),Object(h["a"])(jt,Mt,Et,!1,null,"4e2b01b9",null)),St=Tt.exports,Qt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("loading",{attrs:{active:t.status.pageIsLoading},on:{"update:active":function(a){return t.$set(t.status,"pageIsLoading",a)}}},[e("div",{staticClass:"loadingio-spinner-dual-ball-mx4nrrd19pi"},[e("div",{staticClass:"ldio-l6eq6mvdt0s"},[e("div"),e("div"),e("div")])])]),e("div",{staticClass:"checkout_box"},[e("div",{staticClass:"container"},[e("div",{staticClass:"row mb-1"},[!1===t.status.is_paid?e("div",{staticClass:"col-12"},[e("h1",{staticClass:"h3 text-center mt-3 mb-3 text-mainColor"},[t._v(" 結帳資料填寫 ")]),e("hr")]):e("div",{staticClass:"col-12"},[e("h1",{staticClass:"h3 text-center mt-3 mb-3 text-mainColor"},[t._v(" 感謝您的購買，如訂單有問題請與我們客服聯繫。 ")]),e("hr"),e("p",{staticClass:"h4 text-center"},[t._v("此頁面將於10秒後跳轉到首頁。")])])]),!1===t.status.is_paid?e("div",{staticClass:"row m-1 m-sm-0"},[e("div",{staticClass:"col-12 col-lg-6 table"},[e("h2",{staticClass:"h4 text-center pt-3 pb-3"},[t._v("訂單詳情")]),e("table",{staticClass:"w-100"},[t._m(0),e("tbody",[t._l(t.cart.carts,(function(a,s){return e("tr",{key:s,staticClass:"text-center"},[e("td",{staticClass:"align-middle text-left",attrs:{colspan:"2"}},[e("img",{staticClass:"cart_img",attrs:{src:a.product.imageUrl,alt:"商品圖片"}}),e("span",{staticClass:"pl-2 text-secColor d-inline d-lg-table-cell d-xl-inline"},[t._v(t._s(a.product.title))])]),e("td",{staticClass:"align-middle text-right"},[t._v(" "+t._s(t._f("currency")(a.product.price))+" ")]),e("td",{staticClass:"align-middle"},[t._v("x"+t._s(a.qty))]),e("td",{staticClass:"align-middle d-none d-sm-table-cell text-right"},[t._v(" "+t._s(t._f("currency")(a.final_total))+" ")])])})),t.cart.final_total!==t.cart.total?e("tr",[e("td",{staticClass:"align-middle",attrs:{colspan:"2"}},[t._v("小計")]),e("td",{staticClass:"align-middle text-right",attrs:{colspan:"3"}},[t._v(" "+t._s(t._f("currency")(t.cart.total))+" ")])]):t._e(),t.cart.final_total!==t.cart.total?e("tr",[e("td",{staticClass:"align-middle text-mainColor",attrs:{colspan:"2"}},[t._v(" 優惠折扣 ")]),e("td",{staticClass:"align-middle text-right text-mainColor",attrs:{colspan:"3"}},[t._v(" -"+t._s(t._f("currency")(t.cart.total-t.cart.final_total))+" ")])]):t._e(),e("tr",{staticClass:"last_tr"},[e("td",{staticClass:"align-middle",attrs:{colspan:"2"}},[t._v("總計")]),e("td",{staticClass:"align-middle text-right font-weight-bold",attrs:{colspan:"3"}},[t._v(" "+t._s(t._f("currency")(t.cart.final_total))+" ")])])],2),e("tfoot",[e("tr",[e("td",{staticClass:"coupon pl-0 pr-0",attrs:{colspan:"5"}},[t._m(1),e("div",{staticClass:"input-group collapse pr-0",attrs:{id:"collapseCoupon"}},[e("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.coupon,expression:"coupon",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",placeholder:"請輸入折扣碼","aria-describedby":"couponBtn"},domProps:{value:t.coupon},on:{input:function(a){a.target.composing||(t.coupon=a.target.value.trim())},blur:function(a){return t.$forceUpdate()}}}),e("div",{staticClass:"input-group-prepend"},[e("button",{staticClass:"btn customize_btn btn_color",attrs:{id:"couponBtn"},on:{click:t.postCoupon}},[t._v(" 套用 ")])])]),""!==t.couponFeedBack?e("p",{staticClass:"text-danger mt-2"},[t._v(" "+t._s(t.couponFeedBack)+" ")]):t._e()])])])])]),e("div",{staticClass:"col-12 col-lg-6 mt-1 mt-lg-1"},[e("h2",{staticClass:"h4 text-center pt-3 pb-3"},[t._v("收件人資訊")]),e("validation-observer",{ref:"checkoutForm",scopedSlots:t._u([{key:"default",fn:function(a){var s=a.invalid;return[e("form",{staticClass:"checkout_form",on:{submit:function(a){return a.preventDefault(),t.submitCheckoutData(a)}}},[e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group col-md"},[e("validation-provider",{attrs:{rules:{regex:/^[\u4E00-\u9FA5]{2,}$/,required:"required"}},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.errors,i=a.classes;return[e("label",{attrs:{for:"姓名"}},[t._v("姓名 "),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.checkoutData.user.name,expression:"checkoutData.user.name"}],staticClass:"form-control",class:i,attrs:{type:"text",id:"姓名",placeholder:"請輸入全名"},domProps:{value:t.checkoutData.user.name},on:{input:function(a){a.target.composing||t.$set(t.checkoutData.user,"name",a.target.value)}}}),e("span",{staticClass:"invalid-feedback"},[t._v(t._s(s[0]))])]}}],null,!0)})],1),e("div",{staticClass:"form-group col-md"},[e("validation-provider",{attrs:{rules:{regex:/^09[0-9]{8}$/,required:"required"}},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.errors,i=a.classes;return[e("label",{attrs:{for:"聯絡電話"}},[t._v("聯絡電話 "),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.checkoutData.user.tel,expression:"checkoutData.user.tel"}],staticClass:"form-control",class:i,attrs:{type:"tel",id:"聯絡電話",placeholder:"請輸入手機號碼"},domProps:{value:t.checkoutData.user.tel},on:{input:function(a){a.target.composing||t.$set(t.checkoutData.user,"tel",a.target.value)}}}),e("span",{staticClass:"invalid-feedback"},[t._v(t._s(s[0]))])]}}],null,!0)})],1)]),e("div",{staticClass:"form-group"},[e("validation-provider",{attrs:{rules:"required|email"},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.errors,i=a.classes;return[e("label",{attrs:{for:"電子信箱"}},[t._v("電子信箱 "),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.checkoutData.user.email,expression:"checkoutData.user.email"}],staticClass:"form-control",class:i,attrs:{type:"email",id:"電子信箱",placeholder:"請輸入電子信箱"},domProps:{value:t.checkoutData.user.email},on:{input:function(a){a.target.composing||t.$set(t.checkoutData.user,"email",a.target.value)}}}),e("span",{staticClass:"invalid-feedback"},[t._v(t._s(s[0]))])]}}],null,!0)})],1),e("div",{staticClass:"form-group"},[e("validation-provider",{attrs:{rules:{regex:/^[\u4E00-\u9FA5-0-9]{5,}$/,required:"required"}},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.errors,i=a.classes;return[e("label",{attrs:{for:"收件地址"}},[t._v("收件地址 "),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.checkoutData.user.address,expression:"checkoutData.user.address"}],staticClass:"form-control",class:i,attrs:{type:"text",id:"收件地址",placeholder:"請輸入收件地址"},domProps:{value:t.checkoutData.user.address},on:{input:function(a){a.target.composing||t.$set(t.checkoutData.user,"address",a.target.value)}}}),e("span",{staticClass:"invalid-feedback"},[t._v(t._s(s[0]))])]}}],null,!0)})],1),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"comments"}},[t._v("訂單備註(選填)")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.checkoutData.message,expression:"checkoutData.message"}],staticClass:"form-control",attrs:{id:"comments",placeholder:"例如: 運送時的特別註記。",rows:"2",cols:"5"},domProps:{value:t.checkoutData.message},on:{input:function(a){a.target.composing||t.$set(t.checkoutData,"message",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"pay"}},[t._v("付款方式 "),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.checkoutData.payment_method,expression:"checkoutData.payment_method"}],staticClass:"form-control",attrs:{name:"",id:"pay",required:""},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.checkoutData,"payment_method",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("請選擇付款方式")]),e("option",{attrs:{value:"transfer"}},[t._v("銀行轉帳")]),e("option",{attrs:{value:"credit_card"}},[t._v("信用卡支付")])])]),e("div",{staticClass:"d-flex justify-content-between"},[e("a",{staticClass:"btn customize_btn btn_outline_color",attrs:{href:"#!"},on:{click:function(a){return a.preventDefault(),t.goBack(a)}}},[t._v("返回上一頁")]),e("button",{staticClass:"btn customize_btn btn_main_color",attrs:{type:"submit",disabled:s}},[t._v(" 確認結帳 ")])])])]}}],null,!1,1200374362)})],1)]):t._e()])])],1)},Bt=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",{staticClass:"text-center"},[e("th",{staticClass:"font-weight-normal text-left",attrs:{scope:"col",colspan:"2"}},[t._v(" 商品名稱 ")]),e("th",{staticClass:"font-weight-normal text-right",attrs:{scope:"col"}},[t._v(" 單價 ")]),e("th",{staticClass:"font-weight-normal",attrs:{scope:"col"}},[t._v("數量")]),e("th",{staticClass:"d-none d-sm-table-cell font-weight-normal text-right",attrs:{scope:"col"}},[t._v(" 小計 ")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("p",{staticClass:"pl-2 pb-1"},[t._v(" 有折扣碼嗎? "),e("a",{staticClass:"coupon_link",attrs:{"data-toggle":"collapse",href:"#collapseCoupon",role:"button","aria-expanded":"false","aria-controls":"collapseCoupon"}},[t._v(" 點此輸入 ")])])}],At={name:"Checkout",data:function(){return{cart:{},coupon:"",couponFeedBack:"",checkoutData:{user:{name:"",email:"",tel:"",address:""},message:"",payment_method:""},orderId:"",status:{pageIsLoading:!1,is_paid:!1}}},methods:{getCart:function(){var t=this;t.status.pageIsLoading=!0;var a="".concat("https://vue-course-api.hexschool.io","/api/").concat("unique","/cart");t.$http.get(a).then((function(a){console.log(a.data),t.$bus.$emit("upateCartQty"),t.status.pageIsLoading=!1,t.cart=a.data.data}))},postCoupon:function(){var t=this;t.status.pageIsLoading=!0;var a="".concat("https://vue-course-api.hexschool.io","/api/").concat("unique","/coupon"),e={code:t.coupon};t.$http.post(a,{data:e}).then((function(a){console.log(a.data),a.data.success?t.couponFeedBack="已成功套用折扣碼！":t.couponFeedBack="折扣碼過期或輸入錯誤！",t.status.pageIsLoading=!1,t.getCart()}))},submitCheckoutData:function(){var t=this;t.status.pageIsLoading=!0;var a=t.checkoutData,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("unique","/order");t.$refs.checkoutForm.validate().then((function(s){s&&t.$http.post(e,{data:a}).then((function(a){console.log("訂單已建立",a),t.orderId=a.data.orderId;var e="".concat("https://vue-course-api.hexschool.io","/api/").concat("unique","/pay/").concat(t.orderId);t.$http.post(e).then((function(a){console.log(a),a.data.success&&(t.status.pageIsLoading=!1,t.status.is_paid=!0,t.$bus.$emit("upateCartQty"),w()("html,body").scrollTop(0),setTimeout((function(){return t.$router.push({path:"/home"})}),1e4))}))}))}))},goBack:function(){this.$router.back()}},created:function(){this.getCart(),w()("html,body").scrollTop(0)}},zt=At,Ut=(e("d2a7"),Object(h["a"])(zt,Qt,Bt,!1,null,"4ee26a4c",null)),Ft=Ut.exports,Ht=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("NavbarBack"),e("AlertMessage"),e("router-view")],1)},Rt=[],Jt=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"navbar_box"},[s("div",{staticClass:"bg-mainColor fixed-top"},[s("nav",{staticClass:"navbar navbar-dark container"},[s("router-link",{staticClass:"navbar-brand mr-5",attrs:{to:{name:"Home"}}},[s("img",{attrs:{src:e("9d64"),alt:"logo"}}),s("span",[t._v(" THE NAP STORE")])]),s("ul",{staticClass:"navbar-nav flex-row mr-auto"},[s("li",{staticClass:"nav-item mr-5"},[s("router-link",{staticClass:"nav-link",attrs:{to:{name:"Products_list"}}},[s("i",{staticClass:"fas fa-boxes"}),t._v(" 產品列表 ")])],1),s("li",{staticClass:"nav-item mr-5"},[s("router-link",{staticClass:"nav-link",attrs:{to:{name:"Order_list"}}},[s("i",{staticClass:"far fa-list-alt"}),t._v(" 訂單列表 ")])],1),s("li",{staticClass:"nav-item mr-5"},[s("router-link",{staticClass:"nav-link",attrs:{to:{name:"Coupons"}}},[s("i",{staticClass:"fas fa-ticket-alt"}),t._v(" 優惠券 ")])],1)]),s("ul",{staticClass:"navbar-nav"},[s("li",{staticClass:"nav-item mr-2"},[s("a",{staticClass:"nav-link",attrs:{href:"#!"},on:{click:function(a){return a.preventDefault(),t.signout(a)}}},[s("i",{staticClass:"fas fa-sign-out-alt"}),t._v(" 登出")])])])],1)])])},Vt=[],Wt={name:"NavbarBack",methods:{signout:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/logout");this.$http.post(a).then((function(a){console.log(a.data),a.data.success&&t.$router.push({name:"Home"})}))}}},Gt=Wt,Kt=(e("1de6"),Object(h["a"])(Gt,Jt,Vt,!1,null,"53d6660e",null)),Xt=Kt.exports,Yt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"message-alert"},t._l(t.messages,(function(a,s){return e("div",{key:s,staticClass:"alert alert-dismissible",class:"alert-"+a.status},[t._v(" "+t._s(a.message)+" "),e("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(a){return t.removeMessage(s)}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])})),0)},Zt=[],ta=(e("a434"),{name:"AlertMessage",data:function(){return{messages:[]}},methods:{updateMessage:function(t,a){var e=Math.floor(new Date/1e3);this.messages.push({message:t,status:a,timestamp:e}),this.removeMessageWithTiming(e)},removeMessage:function(t){this.messages.splice(t,1)},removeMessageWithTiming:function(t){var a=this;setTimeout((function(){a.messages.forEach((function(e,s){e.timestamp===t&&a.messages.splice(s,1)}))}),5e3)}},created:function(){var t=this;t.$bus.$on("messsage:push",(function(a){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warning";t.updateMessage(a,e)}))}}),aa=ta,ea=(e("2074"),Object(h["a"])(aa,Yt,Zt,!1,null,null,null)),sa=ea.exports,ia={name:"Dashboard",components:{NavbarBack:Xt,AlertMessage:sa},created:function(){var t=document.cookie.replace(/(?:(?:^|.*;\s*)myToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization="".concat(t)}},oa=ia,na=Object(h["a"])(oa,Ht,Rt,!1,null,"793d630d",null),ra=na.exports,ca=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("loading",{attrs:{active:t.status.pageIsLoading},on:{"update:active":function(a){return t.$set(t.status,"pageIsLoading",a)}}},[e("div",{staticClass:"loadingio-spinner-dual-ball-mx4nrrd19pi"},[e("div",{staticClass:"ldio-l6eq6mvdt0s"},[e("div"),e("div"),e("div")])])]),e("div",{staticClass:"container-fluid mt-5"},[t._m(0),e("div",{staticClass:"row"},[e("div",{staticClass:"col mt-3"},[e("button",{staticClass:"btn customize_btn btn_color",on:{click:function(a){return t.openModal(!0)}}},[t._v(" 建立新的產品 ")])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("table",{staticClass:"table table-hover mt-3"},[t._m(1),e("tbody",t._l(t.products,(function(a){return e("tr",{key:a.id,staticClass:"text-center"},[e("td",{staticClass:"align-middle"},[t._v(t._s(a.category))]),e("td",{staticClass:"align-middle text-left pl-5"},[e("img",{staticClass:"product_img",attrs:{src:a.imageUrl,alt:"商品圖片"}}),e("span",{staticClass:"pl-2 text-secColor"},[t._v(t._s(a.title))])]),e("td",{staticClass:"align-middle text-right"},[t._v(" "+t._s(t._f("currency")(a.price))+" ")]),e("td",{staticClass:"align-middle"},[a.is_enabled?e("span",{staticClass:"text-success"},[t._v("有庫存")]):e("span",[t._v("缺貨中")])]),e("td",{staticClass:"align-middle"},[e("a",{attrs:{href:"#!",title:"編輯"},on:{click:function(e){return e.preventDefault(),t.openModal(!1,a)}}},[e("i",{staticClass:"far fa-edit edit_icon"})]),t._v(" | "),e("a",{staticClass:"align-middle",attrs:{href:"#!",title:"刪除"},on:{click:function(e){return e.preventDefault(),t.openDeleteModal(a)}}},[e("i",{staticClass:"far fa-times-circle delete_icon pt-1"})])])])})),0)])])])]),e("Pagination",{attrs:{pages:t.pagination},on:{emitPages:t.getProducts}}),e("div",{staticClass:"modal fade",attrs:{id:"editModal",tabindex:"-1",role:"dialog","aria-labelledby":"editModalLabel","aria-hidden":"true","data-backdrop":"static"}},[e("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[e("div",{staticClass:"modal-content border-0"},[e("div",{staticClass:"modal-header bg-dark text-white"},[e("h5",{staticClass:"modal-title",attrs:{id:"editModalLabel"}},[t.isNew?e("span",[t._v("新增產品")]):e("span",[t._v("編輯產品")])]),t._m(2)]),e("form",{on:{submit:function(a){return a.preventDefault(),t.updateProduct(a)}}},[e("div",{staticClass:"modal-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-4"},[e("div",{staticClass:"form-group"},[t._m(3),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.imageUrl,expression:"tempProduct.imageUrl"}],staticClass:"form-control",attrs:{type:"text",id:"image",required:""},domProps:{value:t.tempProduct.imageUrl},on:{input:function(a){a.target.composing||t.$set(t.tempProduct,"imageUrl",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"customFile"}},[t._v("或 上傳圖片 "),e("span",{staticClass:"text-danger"},[t._v("*")]),t.status.fileUploading?e("i",{staticClass:"fas fa-spinner fa-spin"}):t._e()]),e("input",{ref:"files",staticClass:"form-control customFile",attrs:{type:"file",id:"customFile"},on:{change:t.uploadFile}})]),e("img",{staticClass:"img-fluid",attrs:{src:t.tempProduct.imageUrl,alt:""}})]),e("div",{staticClass:"col-sm-8"},[e("div",{staticClass:"form-group"},[t._m(4),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.title,expression:"tempProduct.title"}],staticClass:"form-control",attrs:{type:"text",id:"title",required:""},domProps:{value:t.tempProduct.title},on:{input:function(a){a.target.composing||t.$set(t.tempProduct,"title",a.target.value)}}})]),e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group col-md-6"},[t._m(5),e("select",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.category,expression:"tempProduct.category"}],staticClass:"form-control",attrs:{name:"",id:"category",required:""},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.tempProduct,"category",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("請選擇")]),e("option",{attrs:{value:"床"}},[t._v("床")]),e("option",{attrs:{value:"沙發"}},[t._v("沙發")]),e("option",{attrs:{value:"椅子"}},[t._v("椅子")]),e("option",{attrs:{value:"桌子"}},[t._v("桌子")])])]),e("div",{staticClass:"form-group col-md-6"},[t._m(6),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.price,expression:"tempProduct.price"}],staticClass:"form-control",attrs:{type:"number",id:"price",min:"100",required:""},domProps:{value:t.tempProduct.price},on:{input:function(a){a.target.composing||t.$set(t.tempProduct,"price",a.target.value)}}})])]),e("div",{staticClass:"form-group"},[t._m(7),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.description,expression:"tempProduct.description"}],staticClass:"form-control",attrs:{type:"text",id:"description",rows:"5",placeholder:"最優質的沙發商品，皮革是使用牛皮之外．．．",required:""},domProps:{value:t.tempProduct.description},on:{input:function(a){a.target.composing||t.$set(t.tempProduct,"description",a.target.value)}}})]),e("div",{staticClass:"form-group"},[t._m(8),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.content,expression:"tempProduct.content"}],staticClass:"form-control",attrs:{type:"text",id:"content",rows:"3",placeholder:"顏色、材質、尺寸等。",required:""},domProps:{value:t.tempProduct.content},on:{input:function(a){a.target.composing||t.$set(t.tempProduct,"content",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("div",{staticClass:"form-check"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.is_enabled,expression:"tempProduct.is_enabled"}],staticClass:"form-check-input",attrs:{type:"checkbox","true-value":1,"false-value":0,id:"is_enabled"},domProps:{checked:Array.isArray(t.tempProduct.is_enabled)?t._i(t.tempProduct.is_enabled,null)>-1:t._q(t.tempProduct.is_enabled,1)},on:{change:function(a){var e=t.tempProduct.is_enabled,s=a.target,i=s.checked?1:0;if(Array.isArray(e)){var o=null,n=t._i(e,o);s.checked?n<0&&t.$set(t.tempProduct,"is_enabled",e.concat([o])):n>-1&&t.$set(t.tempProduct,"is_enabled",e.slice(0,n).concat(e.slice(n+1)))}else t.$set(t.tempProduct,"is_enabled",i)}}}),e("label",{staticClass:"form-check-label",attrs:{for:"is_enabled"}},[t._v(" 是否有庫存 ")])])])])])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn customize_btn btn_outline_color",attrs:{type:"button","data-dismiss":"modal"}},[t._v(" 取消 ")]),e("button",{staticClass:"btn customize_btn btn_main_color updateBtn",attrs:{type:"submit"}},[t._v(" 確認 "),t.status.buttonIsLoading?e("i",{staticClass:"fas fa-spinner fa-spin"}):t._e()])])])])])]),e("div",{staticClass:"modal fade",attrs:{id:"deleteModal",tabindex:"-1",role:"dialog","aria-labelledby":"deleteModalLabel","aria-hidden":"true","data-backdrop":"static"}},[e("div",{staticClass:"modal-dialog modal-sm",attrs:{role:"document"}},[e("div",{staticClass:"modal-content border-0"},[t._m(9),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn customize_btn btn_outline_color",attrs:{type:"button","data-dismiss":"modal"}},[t._v(" 取消 ")]),e("button",{staticClass:"btn customize_btn btn_main_color",attrs:{type:"button"},on:{click:function(a){return t.deleteProduct()}}},[t._v(" 確認 "),t.status.buttonIsLoading?e("i",{staticClass:"fas fa-spinner fa-spin updateBtn"}):t._e()])])])])])],1)},la=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"row"},[e("div",{staticClass:"col mt-5"},[e("h1",{staticClass:"h3 text-center mt-3 text-mainColor"},[t._v("產品列表")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",{staticClass:"thead-dark"},[e("tr",{staticClass:"text-center"},[e("th",{attrs:{width:"160"}},[t._v("產品分類")]),e("th",[t._v("產品名稱")]),e("th",{staticClass:"text-right",attrs:{width:"160"}},[t._v("售價")]),e("th",{attrs:{width:"160"}},[t._v("庫存狀況")]),e("th",{attrs:{width:"160"}},[t._v("編輯")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",{attrs:{for:"image"}},[t._v("輸入圖片網址 "),e("span",{staticClass:"text-danger"},[t._v("*")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",{attrs:{for:"title"}},[t._v("名稱 "),e("span",{staticClass:"text-danger"},[t._v("*")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",{attrs:{for:"category"}},[t._v("分類 "),e("span",{staticClass:"text-danger"},[t._v("*")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",{attrs:{for:"price"}},[t._v("售價 "),e("span",{staticClass:"text-danger"},[t._v("*")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",{attrs:{for:"description"}},[t._v("產品描述 "),e("span",{staticClass:"text-danger"},[t._v("*")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",{attrs:{for:"content"}},[t._v("產品規格 "),e("span",{staticClass:"text-danger"},[t._v("*")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header bg-dark text-white"},[e("h5",{staticClass:"modal-title",attrs:{id:"deleteModalLabel"}},[e("span",[t._v("確認刪除?")])]),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],da=e("5530"),ua=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("nav",{attrs:{"aria-label":"Page navigation"}},[e("ul",{staticClass:"pagination justify-content-center"},[e("li",{staticClass:"page-item",class:{disabled:!t.pages.has_pre}},[e("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Previous"},on:{click:function(a){return a.preventDefault(),t.updatePage(t.pages.current_page-1)}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("«")]),e("span",{staticClass:"sr-only"},[t._v("Previous")])])]),t._l(t.pages.total_pages,(function(a){return e("li",{key:a,staticClass:"page-item",class:{active:t.pages.current_page===a}},[e("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.updatePage(a)}}},[t._v(t._s(a))])])})),e("li",{staticClass:"page-item",class:{disabled:!t.pages.has_next}},[e("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Next"},on:{click:function(a){return a.preventDefault(),t.updatePage(t.pages.current_page+1)}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("»")]),e("span",{staticClass:"sr-only"},[t._v("Next")])])])],2)])},pa=[],ma={name:"PaginationBack",props:["pages"],methods:{updatePage:function(t){this.$emit("emitPages",t)}}},va=ma,fa=Object(h["a"])(va,ua,pa,!1,null,null,null),ga=fa.exports,ha={name:"Products_list",data:function(){return{products:[],tempProduct:{},isNew:!1,tempDeleteItem:{},status:{pageIsLoading:!1,fileUploading:!1,buttonIsLoading:!1},pagination:{}}},components:{Pagination:ga},methods:{getProducts:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("unique","/admin/products?page=").concat(t);a.status.pageIsLoading=!0,a.$http.get(e).then((function(t){console.log(t.data),t.data.success&&(a.status.pageIsLoading=!1,a.products=t.data.products,a.pagination=t.data.pagination)}))},openModal:function(t,a){var e=this;e.isNew=t,e.tempProduct={},document.getElementById("customFile").value="",e.tempProduct=Object(da["a"])({},a),w()("#editModal").modal("show")},updateProduct:function(){var t="".concat("https://vue-course-api.hexschool.io","/api/").concat("unique","/admin/product"),a="post",e=this;e.status.buttonIsLoading=!0,w()(".updateBtn").attr("disabled",!0),e.isNew||(t="".concat("https://vue-course-api.hexschool.io","/api/").concat("unique","/admin/product/").concat(e.tempProduct.id),a="put"),e.$http[a](t,{data:e.tempProduct}).then((function(t){console.log(t.data),t.data.success?(e.$bus.$emit("messsage:push",t.data.message,"success"),w()("#editModal").modal("hide"),e.getProducts()):(e.$bus.$emit("messsage:push",t.data.message),w()("#editModal").modal("hide"),e.getProducts(),console.log("新增失敗")),e.status.buttonIsLoading=!1,w()(".updateBtn").attr("disabled",!1)}))},openDeleteModal:function(t){w()("#deleteModal").modal("show");var a=this;a.tempDeleteItem=t},deleteProduct:function(){var t=this;t.status.buttonIsLoading=!0;var a="".concat("https://vue-course-api.hexschool.io","/api/").concat("unique","/admin/product/").concat(t.tempDeleteItem.id);t.$http.delete(a).then((function(a){console.log(a.data),a.data.success?t.$bus.$emit("messsage:push",a.data.message,"success"):t.$bus.$emit("messsage:push",a.data.message),t.getProducts(),t.status.buttonIsLoading=!1,w()("#deleteModal").modal("hide")}))},uploadFile:function(){var t=this,a=t.$refs.files.files[0],e=new FormData;e.append("file-to-upload",a);var s="".concat("https://vue-course-api.hexschool.io","/api/").concat("unique","/admin/upload");t.status.fileUploading=!0,t.$http.post(s,e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(a){console.log(a.data),a.data.success?t.$set(t.tempProduct,"imageUrl",a.data.imageUrl):t.$bus.$emit("messsage:push",a.data.message,"danger"),t.status.fileUploading=!1}))}},created:function(){this.getProducts(),w()("html,body").scrollTop(0)}},_a=ha,Ca=(e("7830"),Object(h["a"])(_a,ca,la,!1,null,"3672798b",null)),ba=Ca.exports,xa=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("loading",{attrs:{active:t.status.pageIsLoading},on:{"update:active":function(a){return t.$set(t.status,"pageIsLoading",a)}}},[e("div",{staticClass:"loadingio-spinner-dual-ball-mx4nrrd19pi"},[e("div",{staticClass:"ldio-l6eq6mvdt0s"},[e("div"),e("div"),e("div")])])]),e("div",{staticClass:"container-fluid mt-5"},[t._m(0),e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("table",{staticClass:"table table-hover mt-3"},[t._m(1),e("tbody",t._l(t.sortOrder,(function(a,s){return e("tr",{directives:[{name:"show",rawName:"v-show",value:t.orders.length,expression:"orders.length"}],key:s,staticClass:"text-center",class:{"text-secondary":!a.is_paid}},[e("td",{staticClass:"align-middle"},[t._v(t._s(t._f("date")(a.create_at)))]),e("td",{staticClass:"align-middle"},[t._v(t._s(a.id))]),e("td",{staticClass:"align-middle"},[e("span",[t._v(t._s(a.user.email))])]),e("td",{staticClass:"align-middle text-left"},[e("ul",{staticClass:"list-unstyled pl-5"},t._l(a.products,(function(a,s){return e("li",{key:s},[t._v(" "+t._s(a.product.title)+" x"+t._s(a.qty)+" "+t._s(a.product.unit)+" ")])})),0)]),e("td",{staticClass:"align-middle text-right"},[t._v(" "+t._s(t._f("currency")(a.total))+" ")]),e("td",{staticClass:"align-middle"},[a.is_paid?e("span",[t._v("訂單成立")]):e("span",[t._v("取消訂單")])]),e("td",{staticClass:"align-middle"},[e("a",{attrs:{href:"#!",title:"編輯"},on:{click:function(e){return e.preventDefault(),t.openModal("edit",a)}}},[e("i",{staticClass:"far fa-edit edit_icon"})]),a.is_paid?e("span",[t._v(" | "),e("a",{staticClass:"align-middle",attrs:{href:"#!",title:"取消"},on:{click:function(e){return e.preventDefault(),t.openModal("cancel",a)}}},[e("i",{staticClass:"far fa-times-circle delete_icon pt-1"})])]):t._e()])])})),0)])])]),e("Pagination",{attrs:{pages:t.pagination},on:{emitPages:t.getAllOrders}})],1),e("div",{staticClass:"modal fade",attrs:{id:"editModal",tabindex:"-1",role:"dialog","aria-labelledby":"editModalLabel","aria-hidden":"true","data-backdrop":"static"}},[e("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[e("div",{staticClass:"modal-content border-0"},[t._m(2),e("form",{on:{submit:function(a){return a.preventDefault(),t.updateOrder(a)}}},[e("div",{staticClass:"modal-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-6 table"},[e("h5",{staticClass:"text-center pt-3 pb-3"},[t._v("訂單詳情")]),e("table",{staticClass:"w-100"},[t._m(3),e("tbody",[t._l(t.tempOrder.products,(function(a,s){return e("tr",{key:s,staticClass:"text-center"},[e("td",{staticClass:"align-middle text-left",attrs:{colspan:"2"}},[e("span",{staticClass:"text-secColor"},[t._v(t._s(a.product.title))])]),e("td",{staticClass:"align-middle text-right"},[t._v(" "+t._s(t._f("currency")(a.product.price))+" ")]),e("td",{staticClass:"align-middle"},[t._v("x"+t._s(a.qty))]),a.total-a.final_total>0?e("td",{staticClass:"align-middle text-right text-mainColor"},[t._v(" -"+t._s(t._f("currency")(a.total-a.final_total))+" ")]):e("td",{staticClass:"align-middle text-right text-mainColor"},[t._v(" - ")]),e("td",{staticClass:"align-middle text-right"},[t._v(" "+t._s(t._f("currency")(a.final_total))+" ")])])})),e("tr",{staticClass:"last_tr"},[e("td",{staticClass:"align-middle",attrs:{colspan:"3"}},[t._v("總計")]),e("td",{staticClass:"align-middle text-right font-weight-bold",attrs:{colspan:"3"}},[t._v(" "+t._s(t._f("currency")(t.tempOrder.total))+" ")])])],2)])]),t.tempOrder.hasOwnProperty("create_at")?e("div",{staticClass:"col-6"},[e("h5",{staticClass:"text-center pt-3 pb-3"},[t._v("收件人資訊")]),e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group col-md"},[t._m(4),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempOrder.user.name,expression:"tempOrder.user.name"}],staticClass:"form-control",attrs:{type:"text",id:"name",required:""},domProps:{value:t.tempOrder.user.name},on:{input:function(a){a.target.composing||t.$set(t.tempOrder.user,"name",a.target.value)}}})]),e("div",{staticClass:"form-group col-md"},[t._m(5),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempOrder.user.tel,expression:"tempOrder.user.tel"}],staticClass:"form-control",attrs:{type:"tel",id:"tel",required:""},domProps:{value:t.tempOrder.user.tel},on:{input:function(a){a.target.composing||t.$set(t.tempOrder.user,"tel",a.target.value)}}})]),e("div",{staticClass:"form-group col-md"},[t._m(6),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempOrder.user.email,expression:"tempOrder.user.email"}],staticClass:"form-control",attrs:{type:"email",id:"email",required:""},domProps:{value:t.tempOrder.user.email},on:{input:function(a){a.target.composing||t.$set(t.tempOrder.user,"email",a.target.value)}}})])]),e("div",{staticClass:"form-group"},[t._m(7),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempOrder.user.address,expression:"tempOrder.user.address"}],staticClass:"form-control",attrs:{type:"text",id:"address",required:""},domProps:{value:t.tempOrder.user.address},on:{input:function(a){a.target.composing||t.$set(t.tempOrder.user,"address",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"comments"}},[t._v("訂單備註(選填)")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.tempOrder.message,expression:"tempOrder.message"}],staticClass:"form-control",attrs:{id:"comments",placeholder:"例如: 運送時的特別註記。",rows:"2",cols:"5"},domProps:{value:t.tempOrder.message},on:{input:function(a){a.target.composing||t.$set(t.tempOrder,"message",a.target.value)}}})]),e("div",{staticClass:"form-group"},[t._m(8),e("select",{directives:[{name:"model",rawName:"v-model",value:t.tempOrder.is_paid,expression:"tempOrder.is_paid"}],staticClass:"form-control",attrs:{name:"",id:"status",required:""},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.tempOrder,"is_paid",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("請選擇")]),e("option",{attrs:{value:"true"}},[t._v("訂單成立")]),e("option",{attrs:{value:"false"}},[t._v("訂單取消")])])])]):t._e()])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn customize_btn btn_outline_color",attrs:{type:"button","data-dismiss":"modal"}},[t._v(" 取消 ")]),e("button",{staticClass:"btn customize_btn btn_main_color updateBtn",attrs:{type:"submit"}},[t._v(" 修改 "),t.status.buttonIsLoading?e("i",{staticClass:"fas fa-spinner fa-spin"}):t._e()])])])])])]),e("div",{staticClass:"modal fade",attrs:{id:"cancelModal",tabindex:"-1",role:"dialog","aria-labelledby":"cancelModalLabel","aria-hidden":"true","data-backdrop":"static"}},[e("div",{staticClass:"modal-dialog modal-sm",attrs:{role:"document"}},[e("div",{staticClass:"modal-content border-0"},[t._m(9),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn customize_btn btn_outline_color",attrs:{type:"button","data-dismiss":"modal"}},[t._v(" 取消 ")]),e("button",{staticClass:"btn customize_btn btn_main_color updateBtn",attrs:{type:"button"},on:{click:t.updateOrder}},[t._v(" 確認 "),t.status.buttonIsLoading?e("i",{staticClass:"fas fa-spinner fa-spin"}):t._e()])])])])])],1)},ya=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"row"},[e("div",{staticClass:"col mt-5"},[e("h1",{staticClass:"h3 text-center mt-3 text-mainColor"},[t._v("訂單列表")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",{staticClass:"thead-dark"},[e("tr",{staticClass:"text-center"},[e("th",{attrs:{width:"160"}},[t._v("訂單時間")]),e("th",{attrs:{width:"250"}},[t._v("訂單編號")]),e("th",{attrs:{width:"160"}},[t._v("電子信箱")]),e("th",[t._v("購買品項")]),e("th",{staticClass:"text-right"},[t._v("訂單金額")]),e("th",{attrs:{width:"160"}},[t._v("訂單狀態")]),e("th",{attrs:{width:"160"}},[t._v("編輯")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header bg-dark text-white"},[e("h5",{staticClass:"modal-title",attrs:{id:"editModalLabel"}},[e("span",[t._v("編輯訂單")])]),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",{staticClass:"text-center"},[e("th",{staticClass:"font-weight-normal text-left",attrs:{scope:"col",colspan:"2"}},[t._v(" 商品名稱 ")]),e("th",{staticClass:"font-weight-normal text-right",attrs:{scope:"col"}},[t._v(" 單價 ")]),e("th",{staticClass:"font-weight-normal",attrs:{scope:"col"}},[t._v("數量")]),e("th",{staticClass:"font-weight-normal text-right text-mainColor",attrs:{scope:"col"}},[t._v(" 折扣 ")]),e("th",{staticClass:"font-weight-normal text-right",attrs:{scope:"col"}},[t._v(" 小計 ")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",{attrs:{for:"name"}},[t._v("姓名 "),e("span",{staticClass:"text-danger"},[t._v("*")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",{attrs:{for:"tel"}},[t._v("聯絡電話 "),e("span",{staticClass:"text-danger"},[t._v("*")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",{attrs:{for:"email"}},[t._v("電子信箱 "),e("span",{staticClass:"text-danger"},[t._v("*")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",{attrs:{for:"address"}},[t._v("地址 "),e("span",{staticClass:"text-danger"},[t._v("*")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",{attrs:{for:"status"}},[t._v("訂單狀態 "),e("span",{staticClass:"text-danger"},[t._v("*")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header bg-dark text-white"},[e("h5",{staticClass:"modal-title",attrs:{id:"cancelModalLabel"}},[e("span",[t._v("取消訂單?")])]),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],wa={name:"Order_list",data:function(){return{orders:[],tempOrder:{},namedModal:"",status:{pageIsLoading:!1,buttonIsLoading:!1},pagination:{}}},components:{Pagination:ga},methods:{getAllOrders:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=this;a.status.pageIsLoading=!0;var e="".concat("https://vue-course-api.hexschool.io","/api/").concat("unique","/admin/orders?page=").concat(t);a.$http.get(e).then((function(t){console.log(t.data),a.status.pageIsLoading=!1,a.orders=t.data.orders,a.pagination=t.data.pagination})),w()("html,body").scrollTop(0)},openModal:function(t,a){var e=this;e.tempOrder=Object(da["a"])({},a),e.namedModal=t,"cancel"===t&&(e.tempOrder.is_paid=!1),w()("#".concat(t,"Modal")).modal("show")},updateOrder:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("unique","/admin/order/").concat(t.tempOrder.id);t.status.buttonIsLoading=!0,w()(".updateBtn").attr("disabled",!0),t.$http.put(a,{data:t.tempOrder}).then((function(a){console.log(a.data),t.$bus.$emit("messsage:push",a.data.message,"success"),w()("#".concat(t.namedModal,"Modal")).modal("hide"),t.getAllOrders(),t.status.buttonIsLoading=!1,w()(".updateBtn").attr("disabled",!1)}))}},computed:{sortOrder:function(){var t=this,a=[];return t.orders.length&&(a=t.orders.sort((function(t,a){return a.create_at-t.create_at}))),a}},created:function(){this.getAllOrders(),w()("html,body").scrollTop(0)}},ka=wa,$a=(e("2ef5"),Object(h["a"])(ka,xa,ya,!1,null,"0e80cdc8",null)),Pa=$a.exports,Oa=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("loading",{attrs:{active:t.status.pageIsLoading},on:{"update:active":function(a){return t.$set(t.status,"pageIsLoading",a)}}},[e("div",{staticClass:"loadingio-spinner-dual-ball-mx4nrrd19pi"},[e("div",{staticClass:"ldio-l6eq6mvdt0s"},[e("div"),e("div"),e("div")])])]),e("div",{staticClass:"container-fluid mt-5"},[t._m(0),e("div",{staticClass:"row"},[e("div",{staticClass:"col mt-3"},[e("button",{staticClass:"btn customize_btn btn_color",on:{click:function(a){return t.openModal(!0)}}},[t._v(" 建立新的優惠券 ")])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("table",{staticClass:"table table-hover mt-3"},[t._m(1),e("tbody",t._l(t.coupons,(function(a,s){return e("tr",{directives:[{name:"show",rawName:"v-show",value:t.coupons.length,expression:"coupons.length"}],key:s,staticClass:"text-center"},[e("td",{staticClass:"align-middle"},[t._v(t._s(a.title))]),e("td",{staticClass:"align-middle"},[t._v(t._s(a.percent)+"%")]),e("td",{staticClass:"align-middle"},[t._v(" "+t._s(t._f("date")(a.due_date))+" ")]),e("td",{staticClass:"align-middle"},[a.is_enabled?e("span",{staticClass:"text-success"},[t._v("啟用")]):e("span",{staticClass:"text-muted"},[t._v("未啟用")])]),e("td",{staticClass:"align-middle"},[e("a",{attrs:{href:"#!",title:"編輯"},on:{click:function(e){return e.preventDefault(),t.openModal(!1,a)}}},[e("i",{staticClass:"far fa-edit edit_icon"})]),t._v(" | "),e("a",{staticClass:"align-middle",attrs:{href:"#!",title:"取消"},on:{click:function(e){return e.preventDefault(),t.openDeleteModal(a)}}},[e("i",{staticClass:"far fa-times-circle delete_icon pt-1"})])])])})),0)])])]),e("Pagination",{attrs:{pages:t.pagination},on:{emitPages:t.getCoupons}})],1),e("div",{staticClass:"modal fade",attrs:{id:"editModal",tabindex:"-1",role:"dialog","aria-labelledby":"editModalLabel","aria-hidden":"true","data-backdrop":"static"}},[e("div",{staticClass:"modal-dialog modal-md",attrs:{role:"document"}},[e("div",{staticClass:"modal-content border-0"},[t._m(2),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("form",[e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group col-md"},[e("label",{attrs:{for:"title"}},[t._v("名稱")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempCoupon.title,expression:"tempCoupon.title"}],staticClass:"form-control",attrs:{type:"text",id:"title",required:""},domProps:{value:t.tempCoupon.title},on:{input:function(a){a.target.composing||t.$set(t.tempCoupon,"title",a.target.value)}}})])]),e("div",{staticClass:"row"},[e("div",{staticClass:"form-group col-md"},[e("label",{attrs:{for:"code"}},[t._v("優惠碼")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempCoupon.code,expression:"tempCoupon.code"}],staticClass:"form-control",attrs:{type:"text",id:"code",required:""},domProps:{value:t.tempCoupon.code},on:{input:function(a){a.target.composing||t.$set(t.tempCoupon,"code",a.target.value)}}})])]),e("div",{staticClass:"row"},[e("div",{staticClass:"form-group col-md"},[e("label",{attrs:{for:"due_date"}},[t._v("到期日")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.due_date[0],expression:"due_date[0]"}],staticClass:"form-control",attrs:{type:"date",id:"due_date",required:""},domProps:{value:t.due_date[0]},on:{input:function(a){a.target.composing||t.$set(t.due_date,0,a.target.value)}}})])]),e("div",{staticClass:"row"},[e("div",{staticClass:"form-group col-md"},[e("label",{attrs:{for:"percent"}},[t._v("折扣百分比")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempCoupon.percent,expression:"tempCoupon.percent"}],staticClass:"form-control",attrs:{type:"number",id:"percent",placeholder:"請輸入數字",min:"1",max:"100",required:""},domProps:{value:t.tempCoupon.percent},on:{input:function(a){a.target.composing||t.$set(t.tempCoupon,"percent",a.target.value)}}})])]),e("div",{staticClass:"row"},[e("div",{staticClass:"form-group col-md"},[e("div",{staticClass:"form-check"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempCoupon.is_enabled,expression:"tempCoupon.is_enabled"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"is_enabled","true-value":1,"false-value":0},domProps:{checked:Array.isArray(t.tempCoupon.is_enabled)?t._i(t.tempCoupon.is_enabled,null)>-1:t._q(t.tempCoupon.is_enabled,1)},on:{change:function(a){var e=t.tempCoupon.is_enabled,s=a.target,i=s.checked?1:0;if(Array.isArray(e)){var o=null,n=t._i(e,o);s.checked?n<0&&t.$set(t.tempCoupon,"is_enabled",e.concat([o])):n>-1&&t.$set(t.tempCoupon,"is_enabled",e.slice(0,n).concat(e.slice(n+1)))}else t.$set(t.tempCoupon,"is_enabled",i)}}}),e("label",{staticClass:"form-check-label",attrs:{for:"is_enabled"}},[t._v("是否啟用")])])])])])])])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn customize_btn btn_outline_color",attrs:{type:"button","data-dismiss":"modal"}},[t._v(" 取消 ")]),e("button",{staticClass:"btn customize_btn btn_main_color updateBtn",attrs:{type:"button"},on:{click:t.updateCoupon}},[t._v(" 確認 "),t.status.buttonIsLoading?e("i",{staticClass:"fas fa-spinner fa-spin"}):t._e()])])])])]),e("div",{staticClass:"modal fade",attrs:{id:"deleteModal",tabindex:"-1",role:"dialog","aria-labelledby":"cancelModalLabel","aria-hidden":"true","data-backdrop":"static"}},[e("div",{staticClass:"modal-dialog modal-sm",attrs:{role:"document"}},[e("div",{staticClass:"modal-content border-0"},[t._m(3),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn customize_btn btn_outline_color",attrs:{type:"button","data-dismiss":"modal"}},[t._v(" 取消 ")]),e("button",{staticClass:"btn customize_btn btn_main_color updateBtn",attrs:{type:"button"},on:{click:t.deleteCoupon}},[t._v(" 確認 "),t.status.buttonIsLoading?e("i",{staticClass:"fas fa-spinner fa-spin"}):t._e()])])])])])],1)},Ia=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"row"},[e("div",{staticClass:"col mt-5"},[e("h1",{staticClass:"h3 text-center mt-3 text-mainColor"},[t._v("優惠券列表")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",{staticClass:"thead-dark"},[e("tr",{staticClass:"text-center"},[e("th",{attrs:{width:"160"}},[t._v("名稱")]),e("th",{attrs:{width:"160"}},[t._v("折扣百分比")]),e("th",{attrs:{width:"160"}},[t._v("到期日")]),e("th",{attrs:{width:"160"}},[t._v("是否啟用")]),e("th",{attrs:{width:"160"}},[t._v("編輯")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header bg-dark text-white"},[e("h5",{staticClass:"modal-title",attrs:{id:"editModalLabel"}},[e("span",[t._v("編輯優惠券")])]),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header bg-dark text-white"},[e("h5",{staticClass:"modal-title",attrs:{id:"cancelModalLabel"}},[e("span",[t._v("刪除優惠券?")])]),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],La=(e("1276"),{name:"Coupons",data:function(){return{coupons:[],tempCoupon:{},isNew:!1,namedModal:"",due_date:[],status:{pageIsLoading:!1,buttonIsLoading:!1},pagination:{}}},components:{Pagination:ga},methods:{getCoupons:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=this;a.status.pageIsLoading=!0;var e="".concat("https://vue-course-api.hexschool.io","/api/").concat("unique","/admin/coupons?page=").concat(t);a.$http.get(e).then((function(t){console.log(t.data),a.status.pageIsLoading=!1,a.coupons=t.data.coupons,a.pagination=t.data.pagination})),w()("html,body").scrollTop(0)},openModal:function(t,a){var e=this;if(e.isNew=t,e.isNew)e.tempCoupon={},e.due_date=[];else{e.tempCoupon=Object(da["a"])({},a);var s=new Date(1e3*e.tempCoupon.due_date).toISOString().split("T");e.due_date=Object(st["a"])(s)}w()("#editModal").modal("show")},updateCoupon:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("unique","/admin/coupon"),e="post";t.status.buttonIsLoading=!0,w()(".updateBtn").attr("disabled",!0),t.isNew||(a="".concat("https://vue-course-api.hexschool.io","/api/").concat("unique","/admin/coupon/").concat(t.tempCoupon.id),e="put"),t.$http[e](a,{data:t.tempCoupon}).then((function(a){console.log(a.data),t.$bus.$emit("messsage:push",a.data.message,"success"),w()("#editModal").modal("hide"),t.getCoupons(),t.status.buttonIsLoading=!1,w()(".updateBtn").attr("disabled",!1)}))},openDeleteModal:function(t){w()("#deleteModal").modal("show");var a=this;a.tempCoupon=Object(da["a"])({},t)},deleteCoupon:function(){var t=this;t.status.buttonIsLoading=!0,w()("#deleteModal").attr("disabled",!0);var a="".concat("https://vue-course-api.hexschool.io","/api/").concat("unique","/admin/coupon/").concat(t.tempCoupon.id);t.$http.delete(a).then((function(a){console.log(a.data),a.data.success?t.$bus.$emit("messsage:push",a.data.message,"success"):t.$bus.$emit("messsage:push",a.data.message),t.getCoupons(),t.status.buttonIsLoading=!1,w()("#deleteModal").attr("disabled",!1),w()("#deleteModal").modal("hide")}))}},watch:{due_date:function(){var t=this,a=Math.floor(new Date(t.due_date)/1e3);t.tempCoupon.due_date=a}},created:function(){this.getCoupons(),w()("html,body").scrollTop(0)}}),qa=La,Da=Object(h["a"])(qa,Oa,Ia,!1,null,null,null),Ma=Da.exports;s["default"].use(x["a"]);var Ea=[{path:"*",redirect:"/home"},{path:"/home",component:z,children:[{path:"",name:"Home",component:tt},{path:"/products/:category",name:"Products",component:$t},{path:"/product_detail/:id",name:"Product_detail",component:Dt},{path:"/cart",name:"Cart",component:St},{path:"/checkout",name:"Checkout",component:Ft}]},{path:"/admin",component:ra,meta:{requiresAuth:!0},redirect:ba,children:[{path:"/admin/products_list",name:"Products_list",component:ba,meta:{requiresAuth:!0}},{path:"/admin/order_list",name:"Order_list",component:Pa,meta:{requiresAuth:!0}},{path:"/admin/coupons",name:"Coupons",component:Ma,meta:{requiresAuth:!0}}]}],Na=new x["a"]({routes:Ea});Na.beforeEach((function(t,a,e){if(t.meta.requiresAuth){var s="".concat("https://vue-course-api.hexschool.io","/api/user/check");o.a.post(s).then((function(t){console.log(t.data),t.data.success?(e(),w()("#loginModal").modal("hide")):(w()("#loginModal").modal("show"),"Home"!==a.name&&Na.push("/home"))}))}else e()}));var ja=Na;s["default"].prototype.$bus=new s["default"],s["default"].use(r.a,o.a),s["default"].component("Loading",l.a),Object.keys(p).forEach((function(t){Object(d["d"])(t,p[t])})),Object(d["e"])("zh_TW",u),s["default"].component("ValidationObserver",d["a"]),s["default"].component("ValidationProvider",d["b"]),Object(d["c"])({classes:{valid:"is-valid",invalid:"is-invalid"}}),s["default"].filter("currency",m),s["default"].filter("date",v),s["default"].config.productionTip=!1,new s["default"]({router:ja,render:function(t){return t(b)}}).$mount("#app")},"5c0b":function(t,a,e){"use strict";e("9c0c")},"5cce":function(t,a,e){"use strict";e("7025")},"6e67":function(t,a,e){},7025:function(t,a,e){},"723d":function(t,a,e){},7830:function(t,a,e){"use strict";e("723d")},"7a7d":function(t,a,e){"use strict";e("6e67")},"90a0":function(t,a,e){"use strict";e("e24d")},9420:function(t,a,e){},"9c0c":function(t,a,e){},"9d64":function(t,a,e){t.exports=e.p+"img/logo.71aa18d0.png"},a5ce:function(t,a,e){},aa66:function(t,a,e){"use strict";e("f3cf")},b9f4:function(t,a,e){var s={"./swiper1.jpg":"cf00","./swiper2.jpg":"c144"};function i(t){var a=o(t);return e(a)}function o(t){if(!e.o(s,t)){var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}return s[t]}i.keys=function(){return Object.keys(s)},i.resolve=o,t.exports=i,i.id="b9f4"},bc01:function(t,a,e){"use strict";e("9420")},c144:function(t,a,e){t.exports=e.p+"img/swiper2.527a4b81.jpg"},c3c1:function(t,a,e){},cf00:function(t,a,e){t.exports=e.p+"img/swiper1.04fc946a.jpg"},d2a7:function(t,a,e){"use strict";e("4c88")},d576:function(t,a,e){},e24d:function(t,a,e){},f3cf:function(t,a,e){},fcc7:function(t,a,e){"use strict";e("4ab4")}});
//# sourceMappingURL=app.6be8363c.js.map